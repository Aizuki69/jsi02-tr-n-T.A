<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SIGN UP</title>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
      integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link rel="stylesheet" href="/JSI02/lesson1/sign up/signup.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
      referrerpolicy="no-referrer"
    />
  </head>

  <body>
    <div class="boxlogin">
      <div class="LOGIN">
        <div class="form">
          <h2>SIGN UP</h2>
          <div class="formelm">
            <label for="email">email</label>
            <input
              type="email"
              name="email"
              id="email"
              placeholder="enter email"
            />
          </div>
          <div class="formelm">
            <label for="name">user name</label>
            <input type="text" id="UserName" placeholder="enter user name" />
          </div>
          <div class="formelm">
            <label for="password">password</label>
            <input type="password" id="password" placeholder="enter password" />
          </div>
          <div class="formelm">
            <label for="password">confirm password</label>
            <input
              type="password"
              id="confirmpassword"
              placeholder="enter password again"
            />
          </div>
          <div class="formelm">
            <a class="as" href="/JSI02/lesson1/sign in/sign in.html"
              >you have account?</a
            >
          </div>
          <div class="formelm">
            <button id="btn-signup">sign up</button>
          </div>
        </div>
      </div>
    </div>
    <div class="menu">
      <img src="/JSI02/lesson1/assets/logo.PNG" class="logoimg" alt="" />
    </div>
    <div id="bottom">
      <div class="bottom">
        <div class="c1bottom">
          <ul>
            <li>
              <a href="https://youtube.com/channel/UCqvQWrqyTGx4g80dMPi7Gwg"
                >YouTube</a
              >
            </li>
            <li>
              <a href="thongbao.html">Instagram</a>
            </li>
            <li>
              <a href="thongbao.html">Facebook</a>
            </li>
            <li>
              <a href="thongbao.html">Twitter</a>
            </li>
          </ul>
        </div>
        <div class="c2bottom">
          <a href="">Vietnamese</a>
          <p>Copyright © BLUE SKY</p>
          <div class="cc2bottom">
            <a class="abottom" href="thongbao.html">pháp lý</a>
            <a class="abottom" href="thongbao.html">Riêng tư</a>
            <a class="abottom" href="thongbao.html">Cookie</a>
          </div>
        </div>
        <div class="imgbottom">
          <img src="/JSI02/lesson1/assets/logo.PNG" alt="logo" />
        </div>
      </div>
    </div>
    

    <!-- <script>
      $("#btn-signup").click(() => {
        const getEmailVal = $("#email").val();
        const getUserNameVal = $("#UserName").val();
        const Password = $("#password").val();
        const ComfirmPassword = $("#confirmpassword").val();
        let getAllUser = JSON.parse(localStorage.getItem("users"));
    

        if (getAllUser === null) {
          getAllUser = [];
        } else {
          for (let x = 0; x < getAllUser.length; x++) {
            if (getAllUser[x].email === getEmailVal) {
              alert("This email is already linked to another account");
              return;
            }
          }
        }

        if (Password === ComfirmPassword) {
          getAllUser.push({
            email: getEmailVal,
            password: Password,
            username: getUserNameVal,
          });
          localStorage.setItem("users", JSON.stringify(getAllUser));
          alert("Success");
          return;
        } else {
          alert("not ok");
          return;
        }
      });
    </script> -->
     <script type="module">
      import {
        getAuth,
        createUserWithEmailAndPassword,
        signInWithEmailAndPassword
      } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";

      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      const firebaseConfig = {
       apiKey: "AIzaSyARiZ41z59GSrMyLvin4lJl7RRtmG8Scl8",
    authDomain: "login-beta-53173.firebaseapp.com",
    projectId: "login-beta-53173",
    storageBucket: "login-beta-53173.appspot.com",
    messagingSenderId: "433739506090",
    appId: "1:433739506090:web:cf5e53eaff73305eb34bd3",
    measurementId: "G-G1ESR563C5"
      };
      const app = initializeApp(firebaseConfig);

      $("#btn-signup").click(() => {
        const getUsernameVal = $("#UserName").val();
        const getEmailVal = $("#email").val();
        const password = $("#password").val();
        const confirmPassword = $("#confirmpassword").val();
        const auth = getAuth();
        console.log(getEmailVal,password)
        createUserWithEmailAndPassword(auth, getEmailVal, password)
          .then((userCredential) => {
            // Signed in
            const user = userCredential.user;
            alert("Success")
            // ...
          })
          .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            // ..
          });
      });
      // Initialize Firebase

      // Initialize Firebase

      $(document).ready(() => {
        // get current user from local storage ? do not thing : redirect sign up
        let getAllUser = JSON.parse(localStorage.getItem("user"));
        if (getAllUser) {
          location.replace("./home.html");
        }
      });
    </script>
  </body>
</html>
